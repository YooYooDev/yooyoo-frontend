<div class="control-section">
  <ejs-grid #grid [showColumnMenu]='true' [allowReordering]='true' [gridLines]='line' [allowPaging]='true'
    [allowSorting]='true' [allowFiltering]='true' [allowPdfExport]='true' [allowExcelExport]='true' [allowGrouping]='false'
    [groupSettings]='groupOptions' [searchSettings]='searchSettings' [editSettings]='editSettings' [filterSettings]='filterOptions'
    [pageSettings]='pageSettings' [toolbar]='toolbar' [dataSource]='users' (rowSelected)='onRowSelected($event)'
    (toolbarClick)='onToolbarClick($event)' (actionBegin)='actionBegin($event)' (actionComplete)='actionComplete($event)'>
    <e-columns>
      <e-column field='firstName' headerText='Student Name' [isPrimaryKey]='true' textAlign='left' width=200></e-column>
      <e-column field='gradeId' headerText='Class' textAlign='left' width=150></e-column>
      <e-column field='fatherName' headerText="Father's Name" textAlign='left' width=200></e-column>
      <e-column field='motherName' headerText="Mother's Name" textAlign='left' width=200></e-column>
      <e-column field='parentMobile1' headerText='Primary Mobile' textAlign='left' width=200></e-column>
      <e-column field='parentMobile2' headerText='Alternate Mobile' textAlign='left' width=200></e-column>
      <e-column field='primaryEmail' headerText='Primary Email' textAlign='left' width=200></e-column>
      <e-column field='secondaryEmail' headerText='Alternate Email' textAlign='left' width=200></e-column>
    </e-columns>
    <ng-template #editSettingsTemplate let-data>
      <div ngForm #userForm="ngForm">
        <div class="form-row">
        
          <div class="form-group col-md-4">
            <div class="e-float-input e-control-wrapper">
              <input class="e-input e-field" [(ngModel)]="userData.firstName" #firstName required
                name='firstName' id="firstName" type="text" (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
              <span class="e-float-line"></span>
              <label class="e-float-text e-label-top" for="firstName">Student Name</label>
            </div>
          </div>
          <div class="form-group col-md-4">
            <div class="e-control-wrapper">
                <ejs-datepicker cssClass="e-style" [(ngModel)]="userData.dob" format='yyyy-MM-dd' #dob name="dob" required></ejs-datepicker>
               <span class="e-float-line"></span>
              <label class="e-float-text e-label-top y-date" for="dob">Date of Birth</label>
              <div class="e-tooltip-wrap e-control e-popup e-griderror" *ngIf="userForm.form.controls.dob?.touched && !userForm.form.controls.dob?.valid"><div class="e-tip-content"><label class="e-error" for="dob">This field is invalid.</label></div><div class="e-arrow-tip e-tip-top"><div class="e-arrow-tip-outer e-tip-top"></div><div class="e-arrow-tip-inner e-tip-top"></div></div></div>
            </div>
          </div>
          <div class="form-group col-md-4">
            <div class="e-float-input e-control-wrapper">
              <ejs-radiobutton label="Male" value="Male" cssClass="e-style" #gender [(ngModel)]="userData.gender" name="gender" required ></ejs-radiobutton>
              <ejs-radiobutton label="Female" value="Female" cssClass="e-style" #gender [(ngModel)]="userData.gender" name="gender" required></ejs-radiobutton>
              <ejs-radiobutton label="Others" value="Others" cssClass="e-style" #gender [(ngModel)]="userData.gender" name="gender" required></ejs-radiobutton>
              <span class="e-float-line"></span>
              <label class="e-float-text e-label-top genderLbl" for="gender">Gender</label>
              
            </div>
          </div>
  <div class="row px-15">
      <div class="form-group col-md-4">
          <div class="e-control-wrapper">
            <div class="e-float-input e-control-wrapper">
              <ejs-radiobutton label="LKG" value="1" cssClass="e-style" #gradeId [(ngModel)]="userData.gradeId" name="gradeId" required></ejs-radiobutton>
              <ejs-radiobutton label="UKG" value="2" cssClass="e-style" #gradeId [(ngModel)]="userData.gradeId" name="gradeId" required></ejs-radiobutton>
              <ejs-radiobutton label="Nursery" value="3" cssClass="e-style" #gradeId [(ngModel)]="userData.gradeId" name="gradeId" required></ejs-radiobutton>
              <span class="e-float-line"></span>
              <label class="e-float-text e-label-top genderLbl" for="gradeId">Grade</label>
            </div>
          </div>
        </div>
        <div class="form-group col-md-4">
          <div class="e-float-input e-control-wrapper">
            <input class="e-input e-field" [(ngModel)]="userData.fatherName" #fatherName
              name='fatherName' id="fatherName" required type="text" (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
              <span class="e-float-line"></span>
            <label class="e-float-text e-label-top" for="fatherName">Father's Name</label>
          </div>
        </div>
        <div class="form-group col-md-4">
          <div class="e-float-input e-control-wrapper">
            <input class="e-input e-field" [(ngModel)]="userData.motherName" #motherName
              name='motherName' id="motherName" required type="text" (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
            <span class="e-float-line"></span>
            <label class="e-float-text e-label-top" for="motherName">Mother's Name</label>
          </div>
        </div>
  </div>
          <div class="row px-15">
              <div class="form-group col-md-4">
                  <div class="e-float-input e-control-wrapper">
                    <input class="e-input e-field" [(ngModel)]="userData.fatherProfession" #fatherProfession
                   name='fatherProfession' id="fatherProfession" required type="text"
                      (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
                    <span class="e-float-line"></span>
                    <label class="e-float-text e-label-top" for="fatherProfession">Father's Profession</label>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="e-float-input e-control-wrapper">
                    <input class="e-input e-field" [(ngModel)]="userData.motherProfession" #motherProfession
                   name='motherProfession' id="motherProfession" required type="text"
                      (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
                    <span class="e-float-line"></span>
                    <label class="e-float-text e-label-top" for="motherProfession">Mother's Profession</label>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="e-float-input e-control-wrapper">
                    <input class="e-input e-field" [(ngModel)]="userData.primaryEmail" #primaryEmail
                   name='primaryEmail' id="primaryEmail" type="email" required (focus)="focusIn($event.target)"
                      (blur)="focusOut($event.target)" />
                    <span class="e-float-line"></span>
                    <label class="e-float-text e-label-top" for="primaryEmail">Primary Email</label>
                  </div>
                </div>
          </div>
          <div class="form-group col-md-4">
            <div class="e-float-input e-control-wrapper">
              <input class="e-input e-field" [(ngModel)]="userData.secondaryEmail" #secondaryEmail
             name='secondaryEmail' id="secondaryEmail" type="email" required
                (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
              <span class="e-float-line"></span>
              <label class="e-float-text e-label-top" for="secondaryEmail">Alternate Email</label>
            </div>
          </div>
          <div class="form-group col-md-4">
            <div class="e-control-wrapper">
              <ejs-numerictextbox id="parentMobile1"  format= 'N0' [min]="1000000000" [max]="9999999999" [(ngModel)]="userData.parentMobile1" #parentMobile1 required name='parentMobile1' placeholder= 'Primary Mobile' floatLabelType= 'Always'></ejs-numerictextbox>
              <div class="e-tooltip-wrap e-control e-popup e-griderror" *ngIf="userForm.form.controls.parentMobile1?.touched && !userForm.form.controls.parentMobile1?.valid"><div class="e-tip-content"><label class="e-error" for="parentMobile1">This field is required.</label></div><div class="e-arrow-tip e-tip-top"><div class="e-arrow-tip-outer e-tip-top"></div><div class="e-arrow-tip-inner e-tip-top"></div></div></div>
            </div>
          </div>
          <div class="form-group col-md-4">
            <div class="e-control-wrapper">
                <ejs-numerictextbox  format= 'N0' [min]="1000000000" [max]="9999999999" class="e-input e-field" [(ngModel)]="userData.parentMobile2" #parentMobile2 required name='parentMobile2' id="parentMobile2" placeholder= 'Alternate Mobile' floatLabelType= 'Always'></ejs-numerictextbox>
                <div class="e-tooltip-wrap e-control e-popup e-griderror" *ngIf="userForm.form.controls.parentMobile2?.touched && !userForm.form.controls.parentMobile2?.valid"><div class="e-tip-content"><label class="e-error" for="parentMobile2">This field is required.</label></div><div class="e-arrow-tip e-tip-top"><div class="e-arrow-tip-outer e-tip-top"></div><div class="e-arrow-tip-inner e-tip-top"></div></div></div>
            </div>
          </div>
          <div class="form-group col-md-4">
            <div class="e-float-input e-control-wrapper">
              <input class="e-input e-field" [(ngModel)]="userData.address" #address
                name='address' id="address" type="text" required (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
              <span class="e-float-line"></span>
              <label class="e-float-text e-label-top" for="address">Address</label>
            </div>
          </div>
          <div class="form-group col-md-4">
            <div class="e-float-input e-control-wrapper">
              <input class="e-input e-field" [(ngModel)]="userData.city" #city
                name='city' id="city" type="text" required (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
              <span class="e-float-line"></span>
              <label class="e-float-text e-label-top" for="city">City</label>
            </div>
          </div>
          <div class="form-group col-md-4">
            <div class="e-float-input e-control-wrapper">
              <input class="e-input e-field" required [(ngModel)]="userData.state" #state
                name='state' id="state" type="text" (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
              <span class="e-float-line"></span>
              <label class="e-float-text e-label-top" for="state">State</label>
            </div>
          </div>
          <div class="form-group col-md-4">
            <div class="e-control-wrapper">
                <ejs-numerictextbox id="pin_code" format="N0" #pinCode required [(ngModel)]="userData.pinCode" name="pinCode" [min]="10000" [max]="999999" placeholder= 'Pin Code' floatLabelType= 'Always' ></ejs-numerictextbox>
                <div class="e-tooltip-wrap e-control e-popup e-griderror" *ngIf="userForm.form.controls.pinCode?.touched && !userForm.form.controls.pinCode?.valid"><div class="e-tip-content"><label class="e-error" for="pinCode">This field is required.</label></div><div class="e-arrow-tip e-tip-top"><div class="e-arrow-tip-outer e-tip-top"></div><div class="e-arrow-tip-inner e-tip-top"></div></div></div>
            </div>
          </div>
        </div>
        <div class="col-md-12">
          <div class="e-control-wrapper pull-right">
          <button type="submit" [disabled]="userForm.invalid" class="e-control e-btn e-primary e-flat" (click)="onSubmit()">Save</button>
          <button type="button" class="e-control e-btn e-flat" (click)="cancel()">Cancel</button>
        </div>
        </div>
      </div>
      <br>
      <!--<div>{{ userForm.value | json }}</div> -->
 
    
    </ng-template>
  </ejs-grid>
  <ejs-dialog #Dialog [visible]='hidden' [position]='position' [header]='header' [showCloseIcon]='showCloseIcon'
    [target]='target' [width]='width'>
    <ng-template #content>
      <form id="template_driven" #userForm="ngForm" novalidate>
      <div class="selected-files">
     
        <div class="form-group uploader-section">
    
          <ejs-uploader #defaultupload id='fileupload' allowedExtensions="*.csv" [autoUpload]=false [multiple]='multiple' (selected)='onFileSelect($event)'></ejs-uploader>
        </div>
      </div>
      <!--<span class='error-root' *ngIf="(uploadval.invalid && (uploadval.dirty || uploadval.touched))">
        <span class="e-error errorClass" *ngIf="uploadval.errors.required">
            * Select a file
        </span>
      </span>-->
      <div class="form-group" style="padding-top: 11px;">
        <div class="submitBtn">
          <button class="submit-btn e-btn" id="submit-btn" [disabled]="userForm.invalid" type="reset" (click)="Submit()">Submit</button>
        </div>
      </div>
    </form>   
    </ng-template>
  </ejs-dialog>
</div>
