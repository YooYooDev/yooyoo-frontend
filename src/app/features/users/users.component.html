<mat-tab-group>
  <mat-tab>
    <ng-template mat-tab-label>App Users</ng-template>
  <div class="control-section">
    <ejs-grid #grid [showColumnMenu]='false' [allowReordering]='false' [gridLines]='line' [allowPaging]='true'
      [allowSorting]='true' [allowFiltering]='true' [allowExcelExport]='true' [allowGrouping]='false'
      [searchSettings]='searchSettings' [editSettings]='editSettings' [filterSettings]='filterOptions'
      [selectionSettings]='selectionOptions' [pageSettings]='pageSettings' [toolbar]='toolbar' [dataSource]='users'
      (toolbarClick)='onToolbarClick($event)' (actionBegin)='actionBegin($event)' (actionComplete)='actionComplete($event)'
      (rowDataBound)='rowDataBound($event)'>
      <e-columns>
        <e-column field='deleted' headerText='E/D' width='100' type='boolean' [displayAsCheckBox]='true'></e-column>
        <e-column field='firstName' headerText='Student Name' [isPrimaryKey]='true' textAlign='left' width=250></e-column>
        <e-column field='gradeName' headerText='Class' textAlign='left' width=150></e-column>
        <e-column field='fatherName' headerText="Father's Name" textAlign='left' width=250></e-column>
        <e-column field='motherName' headerText="Mother's Name" textAlign='left' width=250></e-column>
        <e-column field='parentMobile1' headerText='Primary Mobile' textAlign='left' width=250></e-column>
        <e-column field='parentMobile2' headerText='Alternate Mobile' textAlign='left' width=250></e-column>
        <e-column field='primaryEmail' headerText='Primary Email' textAlign='left' width=250></e-column>
        <e-column field='secondaryEmail' headerText='Alternate Email' textAlign='left' width=250></e-column>
      </e-columns>
      <ng-template #editSettingsTemplate let-data>
        <div ngForm #userForm="ngForm">
          <div class="form-row">
            <div class="form-group col-md-4">
              <div class="e-float-input e-control-wrapper">
                <input class="e-input e-field" [(ngModel)]="userData.firstName" #firstName required name='firstName' id="firstName"
                  type="text" (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
                <span class="e-float-line"></span>
                <label class="e-float-text e-label-top" for="firstName">Student Name</label>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="e-control-wrapper">
                <ejs-datepicker cssClass="e-style" [(ngModel)]="userData.dob" #dob name="dob"
                  required></ejs-datepicker>
                <span class="e-float-line"></span>
                <label class="e-float-text e-label-top y-date" for="dob">Date of Birth</label>
                <div class="e-tooltip-wrap e-control e-popup e-griderror" *ngIf="userForm.form.controls.dob?.touched && !userForm.form.controls.dob?.valid">
                  <div class="e-tip-content"><label class="e-error" for="dob">This field is invalid.</label></div>
                  <div class="e-arrow-tip e-tip-top">
                    <div class="e-arrow-tip-outer e-tip-top"></div>
                    <div class="e-arrow-tip-inner e-tip-top"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="e-float-input e-control-wrapper">
                <ejs-radiobutton label="Male" value="Male" cssClass="e-style" #gender [(ngModel)]="userData.gender" name="gender"
                  required></ejs-radiobutton>
                <ejs-radiobutton label="Female" value="Female" cssClass="e-style" #gender [(ngModel)]="userData.gender"
                  name="gender" required></ejs-radiobutton>
                <ejs-radiobutton label="Others" value="Others" cssClass="e-style" #gender [(ngModel)]="userData.gender"
                  name="gender" required></ejs-radiobutton>
                <span class="e-float-line"></span>
                <label class="e-float-text e-label-top genderLbl" for="gender">Gender</label>
              </div>
            </div>
  
            <div class="row px-15">
              <div class="form-group col-md-4">
                <div class="e-control-wrapper">
                  <div class="e-float-input e-control-wrapper">
                    <input class="e-input e-field hidden" [ngModel]="userData.gradeName == 'L.K.G' ? 2 : userData.gradeName == 'U.K.G' ? 3 : 1"
                      name="gradeId" #gradeId />
                    <ejs-radiobutton label="NURSERY" value="NURSERY" cssClass="e-style" #gradeName [(ngModel)]="userData.gradeName"
                      name="gradeName" required></ejs-radiobutton>
                    <ejs-radiobutton label="L.K.G" value="L.K.G" cssClass="e-style" #gradeName [(ngModel)]="userData.gradeName"
                      name="gradeName" required></ejs-radiobutton>
                    <ejs-radiobutton label="U.K.G" value="U.K.G" cssClass="e-style" #gradeName [(ngModel)]="userData.gradeName"
                      name="gradeName" required></ejs-radiobutton>
                    <span class="e-float-line"></span>
                    <label class="e-float-text e-label-top" for="gradeName">Grade</label>
                  </div>
                </div>
              </div>
              <div class="form-group col-md-4">
                <div class="e-float-input e-control-wrapper">
                  <input class="e-input e-field" [(ngModel)]="userData.fatherName" #fatherName name='fatherName' id="fatherName"
                    required type="text" (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
                  <span class="e-float-line"></span>
                  <label class="e-float-text e-label-top" for="fatherName">Father's Name</label>
                </div>
              </div>
              <div class="form-group col-md-4">
                <div class="e-float-input e-control-wrapper">
                  <input class="e-input e-field" [(ngModel)]="userData.motherName" #motherName name='motherName' id="motherName"
                    required type="text" (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
                  <span class="e-float-line"></span>
                  <label class="e-float-text e-label-top" for="motherName">Mother's Name</label>
                </div>
              </div>
            </div>
            <div class="row px-15">
              <div class="form-group col-md-4">
                <div class="e-float-input e-control-wrapper">
                  <input class="e-input e-field" [(ngModel)]="userData.fatherProfession" #fatherProfession name='fatherProfession'
                    id="fatherProfession" required type="text" (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
                  <span class="e-float-line"></span>
                  <label class="e-float-text e-label-top" for="fatherProfession">Father's Profession</label>
                </div>
              </div>
              <div class="form-group col-md-4">
                <div class="e-float-input e-control-wrapper">
                  <input class="e-input e-field" [(ngModel)]="userData.motherProfession" #motherProfession name='motherProfession'
                    id="motherProfession" required type="text" (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
                  <span class="e-float-line"></span>
                  <label class="e-float-text e-label-top" for="motherProfession">Mother's Profession</label>
                </div>
              </div>
              <div class="form-group col-md-4">
                <div class="e-float-input e-control-wrapper">
                  <input class="e-input e-field" [(ngModel)]="userData.primaryEmail" #primaryEmail name='primaryEmail' id="primaryEmail"
                    type="email" required (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
                  <span class="e-float-line"></span>
                  <label class="e-float-text e-label-top" for="primaryEmail">Primary Email</label>
                </div>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="e-float-input e-control-wrapper">
                <input class="e-input e-field" [(ngModel)]="userData.secondaryEmail" #secondaryEmail name='secondaryEmail'
                  id="secondaryEmail" type="email" required (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
                <span class="e-float-line"></span>
                <label class="e-float-text e-label-top" for="secondaryEmail">Alternate Email</label>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="e-control-wrapper">
                <ejs-maskedtextbox mask="000-000-0000" [(ngModel)]="userData.parentMobile1" #parentMobile1 required name='parentMobile1'
                  placeholder='Primary Mobile' floatLabelType='Always'></ejs-maskedtextbox>
                <div class="e-tooltip-wrap e-control e-popup e-griderror" *ngIf="userForm.form.controls.parentMobile1?.touched && !userForm.form.controls.parentMobile1?.valid">
                  <div class="e-tip-content"><label class="e-error" for="parentMobile1">This field is required.</label></div>
                  <div class="e-arrow-tip e-tip-top">
                    <div class="e-arrow-tip-outer e-tip-top"></div>
                    <div class="e-arrow-tip-inner e-tip-top"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="e-control-wrapper">
                <ejs-maskedtextbox mask="000-000-0000" [(ngModel)]="userData.parentMobile2" #parentMobile2 required name='parentMobile2'
                  placeholder='Alternate Mobile' floatLabelType='Always'></ejs-maskedtextbox>
                <div class="e-tooltip-wrap e-control e-popup e-griderror" *ngIf="userForm.form.controls.parentMobile2?.touched && !userForm.form.controls.parentMobile2?.valid">
                  <div class="e-tip-content"><label class="e-error" for="parentMobile2">This field is required.</label></div>
                  <div class="e-arrow-tip e-tip-top">
                    <div class="e-arrow-tip-outer e-tip-top"></div>
                    <div class="e-arrow-tip-inner e-tip-top"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group col-md-4 clearfix">
              <div class="e-float-input e-control-wrapper">
                <input class="e-input e-field" [(ngModel)]="userData.address" #address name='address' id="address" type="text"
                  required (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
                <span class="e-float-line"></span>
                <label class="e-float-text e-label-top" for="address">Address</label>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="e-float-input e-control-wrapper">
                <input class="e-input e-field" [(ngModel)]="userData.city" #city name='city' id="city" type="text"
                  required (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
                <span class="e-float-line"></span>
                <label class="e-float-text e-label-top" for="city">City</label>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="e-float-input e-control-wrapper">
                <input class="e-input e-field" required [(ngModel)]="userData.state" #state name='state' id="state" type="text"
                  (focus)="focusIn($event.target)" (blur)="focusOut($event.target)" />
                <span class="e-float-line"></span>
                <label class="e-float-text e-label-top" for="state">State</label>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="e-control-wrapper">
                <ejs-maskedtextbox mask="000000" [(ngModel)]="userData.pinCode" #pinCode required name='pinCode'
                  placeholder='Pin Code' floatLabelType='Always'></ejs-maskedtextbox>
                <div class="e-tooltip-wrap e-control e-popup e-griderror" *ngIf="userForm.form.controls.pinCode?.touched && !userForm.form.controls.pinCode?.valid">
                  <div class="e-tip-content"><label class="e-error" for="pinCode">This field is required.</label></div>
                  <div class="e-arrow-tip e-tip-top">
                    <div class="e-arrow-tip-outer e-tip-top"></div>
                    <div class="e-arrow-tip-inner e-tip-top"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="e-float-input e-control-wrappe">
                <ejs-switch [ngModel]="userData.deleted == 1? true : userData.deleted == 0 ? false : null"
                  (ngModelChange)="userData.deleted = $event ? 1 : 0"
                  #deleted name="deleted" id="deleted"></ejs-switch>
                <span class="e-float-line"></span>
                <label class="e-float-text e-label-top switch-label" for="deleted">
                  Enable/Disable
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-12">
            <div class="e-control-wrapper pull-right">
              <button type="submit" [disabled]="userForm.invalid" class="e-control e-btn e-primary e-flat" (click)="onSubmit()">Save</button>
              <button type="button" class="e-control e-btn e-flat" (click)="cancel()">Cancel</button>
            </div>
          </div>
        </div>
        <br>  
  
        <!-- <div class="col-md-12 clearfix">{{ userForm.value | json }}</div> -->
      </ng-template>
    </ejs-grid>
    <ejs-dialog #Dialog [visible]='false' [position]='position' [header]='header' [showCloseIcon]='showCloseIcon' [width]='width'>
      <ng-template #content>
        <form id="template_driven" #importForm="ngForm" novalidate>
          <div class="selected-files">
  
            <div class="form-group uploader-section">
              <input type="file" id='fileupload' name="fileupload" (change)='onFileChange($event)' placeholder="Upload file"
                accept=".csv">
  
              <!-- <ejs-uploader #defaultupload id='fileupload' allowedExtensions="*.csv" [autoUpload]=false [multiple]=false (change)='onFileChange($event)'></ejs-uploader> -->
            </div>
          </div>
          <!-- <span class='error-root' *ngIf="(uploadval.invalid && (uploadval.dirty || uploadval.touched))">
          <span class="e-error errorClass" *ngIf="uploadval.errors.required">
              * Select a file
          </span>
        </span> -->
  
          <div class="form-group" style="padding-top: 11px;">
            <div class="submitBtn">
              <button class="submit-btn e-btn" id="submit-btn" [disabled]="importForm.invalid" type="reset" (click)="uploadSubmit()">Submit</button>
            </div>
          </div>
        </form>
      </ng-template>
    </ejs-dialog>
  </div>
  </mat-tab>
  <mat-tab>
    <ng-template mat-tab-label>
      Admin User
    </ng-template>
  <yoo-cred-manager></yoo-cred-manager>
  </mat-tab>
</mat-tab-group>


