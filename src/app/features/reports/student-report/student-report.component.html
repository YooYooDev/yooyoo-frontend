<div class="pull-right" style="display: inline-flex;">
  <ejs-dropdownlist #schoolId [ngClass]="urole !== 'SUPERADMIN' && urole !== 'YOOYOOADMIN' ? 'hidden' : ''
    " [dataSource]="schoolData" [fields]="{ value: 'id', text: 'name' }" placeholder="School" name="schoolId"
    (select)="onChangeSchool($event)" class="mr-10"></ejs-dropdownlist>
  <ejs-dropdownlist #filterId [dataSource]="FilterData" [fields]="{ value: 'id', text: 'name' }" placeholder="Filter"
    class="mr-10"></ejs-dropdownlist>
  <ejs-daterangepicker class="ml-10"></ejs-daterangepicker>
</div>
<div class="col-md-12" *ngIf="!student.length">
  <div class="control-section col-md-6 yooyoo">
    <div id="sample" *ngIf="users.length; else nodata">
      <h4> Student Details <input #textbox class="e-input" type="text" id="textbox" width="298" placeholder="Search"
          title="Type in a name" />
      </h4>
      <ejs-listview id="element" [dataSource]="users" height="400" cssClass="e-list-template" [showHeader]="false"
        (select)='onActionComplete($event)'>
        <ng-template #template let-data="">
          <div class="e-list-wrapper e-list-multi-line e-list-avatar">
            <span class="e-avatar e-avatar-circle my-circle"
              [style.background]="data.color">{{ getShortName(data.firstName) }}</span>
            <span class="e-list-item-header">{{ data.firstName }}</span>
            <span class="e-list-content">{{ data.gradeName }}</span>
          </div>
        </ng-template>
      </ejs-listview>
    </div>
    <ng-template #nodata>
      <span>No data available!</span>
    </ng-template>
  </div>
  <div class="control-section yooyoo text-center mt-10">
    <div class="control-section col-md-3 yooyoo text-center">
      <ejs-accumulationchart id="container" [legendSettings]="legendSettings" [tooltip]="tooltip" [title]="title"
        height="350" [enableSmartLabels]="enableSmartLabels" [enableAnimation]="enableAnimation">
        <e-accumulation-series-collection>
          <e-accumulation-series [dataSource]="attendanceData" xName="x" yName="y" [startAngle]="startAngle"
            [endAngle]="endAngle" innerRadius="30%" [dataLabel]="dataLabel">
          </e-accumulation-series>
        </e-accumulation-series-collection>
      </ejs-accumulationchart>
    </div>
    <div class="control-section col-md-3" style="top: 100px;">
      <table>
        <tr>
          <th> Grade </th>
          <th> Total School Days </th>
          <th> Total Days Present </th>
        </tr>
        <tr>
          <td>L.K.G</td>
          <td>210</td>
          <td>190</td>
        </tr>
        <tr>
          <td>U.K.G</td>
          <td>210</td>
          <td>130</td>
        </tr>
        <tr>
          <td>NURSERY</td>
          <td>210</td>
          <td>180</td>
        </tr>
      </table>
    </div>
  </div>
</div>
<div class="col-md-6" *ngIf="student?.length">
  <button class="btn btn-default mt-10" (click)="student = []">Back</button>
  <ejs-grid #grid [showColumnMenu]="false" [allowReordering]="false" [gridLines]="line" [allowPaging]="false"
    [allowSorting]="false" [allowFiltering]="false" [allowExcelExport]="true" [allowGrouping]="false"
    [dataSource]="student" class="mt-10">
    <e-columns>
      <e-column headerText="Student Details">
        <ng-template #rowTemplate let-data>
          <tr>
            <td class="details">
              <table class="CardTable" cellpadding="5" cellspacing="2">
                <colgroup>
                  <col width="50%">
                  <col width="50%">
                </colgroup>
                <tbody>
                  <tr>
                    <td class="CardHeader e-rowcell">First Name </td>
                    <td class="e-rowcell">{{data.firstName}} </td>
                  </tr>
                  <tr>
                    <td class="CardHeader e-rowcell">Middle Name</td>
                    <td class="e-rowcell">{{data.middleName}} </td>
                  </tr>
                  <tr>
                    <td class="CardHeader e-rowcell">Last Name</td>
                    <td class="e-rowcell">{{data.lastName}}</td>
                  </tr>
                  <tr>
                    <td class="CardHeader e-rowcell">School Name</td>
                    <td class="e-rowcell">{{data.schoolName}}</td>
                  </tr>
                  <tr>
                    <td class="CardHeader e-rowcell">Grade Name</td>
                    <td class="e-rowcell">{{data.gradeName}}</td>
                  </tr>
                  <tr>
                    <td class="CardHeader e-rowcell">Attendance Taken Days</td>
                    <td class="e-rowcell">{{data.attendanceTakenDays}}</td>
                  </tr>
                  <tr>
                    <td class="CardHeader e-rowcell">Present Days</td>
                    <td class="e-rowcell">{{data.presentDays}}</td>
                  </tr>
                  <tr>
                    <td class="CardHeader e-rowcell">Tution Fee</td>
                    <td class="e-rowcell">{{data.tutionFee}}</td>
                  </tr>
                  <tr>
                    <td class="CardHeader e-rowcell">Transportation Fee</td>
                    <td class="e-rowcell">{{data.transportationFee}}</td>
                  </tr>
                  <tr>
                    <td class="CardHeader e-rowcell">Outstanding Fees</td>
                    <td class="e-rowcell">{{data.totalBillAmount}}</td>`
                  </tr>
                  <tr>
                    <td class="CardHeader e-rowcell">No of Question Faced</td>
                    <td class="e-rowcell">{{data.noOfQuestionFaced}}</td>
                  </tr>
                  <tr>
                    <td class="CardHeader e-rowcell">No of Video Watched</td>
                    <td class="e-rowcell">{{data.noOfVideosWatched}}</td>
                  </tr>
                  <tr>
                    <td class="CardHeader e-rowcell">No of Worksheet Appeared</td>
                    <td class="e-rowcell">{{data.noOfWorksheetAppeared}}</td>
                  </tr>
                </tbody>
              </table>
            </td>
          </tr>
        </ng-template>
      </e-column>
    </e-columns>
  </ejs-grid>
</div>